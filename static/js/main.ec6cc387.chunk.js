(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{134:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n.n(i),c=n(38),o=n.n(c),s=(n(134),n(13)),l=n(214),d=n(212),j=n(18),u=n(16),x=n(4),b=n(5),p=n(20),h=n(228),O=n(215),g=n(222),m=n(224),f=n(205),E=n(229),S=n(230),y=n(216),v=n(227),_=n(231),T=n(103),F=n.n(T),C=n(101),A=n.n(C),L=n(104),I=n.n(L),R=n(213),w=n(225),k=n(226),M=n(106),U=n.n(M),B=n(105),z=n.n(B),G=n(98),D=n.n(G),H=n(102),P=n.n(H),W=n(87),N=n.n(W),K=n(99),Y=n.n(K),J=n(100),Q=n.n(J),q=["light","dark"],X=Object(i.createContext)({mode:"light",toggleColorMode:function(){}}),V=n(35),Z="LOGIN_REQUEST",$="LOGIN_SUCCESS",ee="LOGIN_FAILURE",te="LOGOUT",ne="ALERT_SUCCESS",re="ALERT_ERROR",ie="ALERT_CLEAR",ae="CLIENTS_GETALL_REQUEST",ce="CLIENTS_GETALL_SUCCESS",oe="CLIENTS_GETALL_FAILURE",se="ITEMS_GETALL_REQUEST",le="ITEMS_GETALL_SUCCESS",de="ITEMS_GETALL_FAILURE",je="ITEM_GET_REQUEST",ue="ITEM_GET_SUCCESS",xe="ITEM_GET_FAILURE",be="ITEMS_ADD_REQUEST",pe="ITEMS_ADD_SUCCESS",he="ITEMS_ADD_FAILURE",Oe="ITEMS_DELETE_REQUEST",ge="ITEMS_DELETE_SUCCESS",me="ITEMS_DELETE_FAILURE",fe=function(e){return{type:re,message:e}},Ee=function(){return{type:ie,message:""}},Se={API_BASE_URL:"https://back-end-integrationapplication.azurewebsites.net/",USER_LOCAL_STORAGE_KEY:"stock_user",COLOR_MODE_LOCALE_STORAGE_KEY:"stock_color_mode"},ye=function(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(ve(),window.location.reload());var r=(null===n||void 0===n?void 0:n.message)||e.statusText;return Promise.reject(r)}return n}))},ve=function(){localStorage.removeItem(Se.USER_LOCAL_STORAGE_KEY)},_e={authHeader:function(){var e,t=JSON.parse(null!==(e=localStorage.getItem(Se.USER_LOCAL_STORAGE_KEY))&&void 0!==e?e:"{}");return null!==t&&void 0!==t&&t.token?{Authorization:"Bearer ".concat(t.token)}:{}},login:function(e,t){return fetch("".concat(Se.API_BASE_URL,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(ye).then((function(t){var n=t;return localStorage.setItem(Se.USER_LOCAL_STORAGE_KEY,JSON.stringify(Object(u.a)({email:e},n))),n}))},logout:ve,checkResponse:ye},Te=n(27),Fe=Object(Te.a)(),Ce=function(e,t){return function(n){n({type:Z,user:{email:e}}),_e.login(e,t).then((function(t){n(function(e){return{type:$,user:e}}(Object(u.a)({email:e},t))),Fe.push("/dashboard")}),(function(e){var t=e instanceof Error?e.message:e;n(function(e){return{type:ee,error:e}}(t)),n(fe("Impossible de se connecter : ".concat(t)))}))}},Ae=function(){return _e.logout(),{type:te}},Le=n(1),Ie=240,Re=function(e){return{width:Ie,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},we=function(e){return Object(x.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},ke=Object(b.a)("div")((function(e){var t=e.theme;return Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),Me=Object(b.a)(g.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(u.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:Ie,width:"calc(100% - ".concat(Ie,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),Ue=Object(b.a)(O.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(u.a)(Object(u.a)({width:Ie,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(u.a)(Object(u.a)({},Re(t)),{},{"& .MuiDrawer-paper":Re(t)})),!n&&Object(u.a)(Object(u.a)({},we(t)),{},{"& .MuiDrawer-paper":we(t)}))})),Be=function(){return Object(Le.jsxs)(m.a,{children:[Object(Le.jsxs)(R.a,{component:V.a,to:"/",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(N.a,{})}),Object(Le.jsx)(k.a,{primary:"Accueil"})]}),Object(Le.jsxs)(R.a,{component:V.a,to:"/login",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(D.a,{})}),Object(Le.jsx)(k.a,{primary:"Se connecter"})]})]})},ze=function(){var e=Object(p.c)();return Object(Le.jsxs)(m.a,{children:[Object(Le.jsxs)(R.a,{component:V.a,to:"/",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(N.a,{})}),Object(Le.jsx)(k.a,{primary:"Accueil"})]}),Object(Le.jsxs)(R.a,{component:V.a,to:"/dashboard",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(Y.a,{})}),Object(Le.jsx)(k.a,{primary:"Tableau de bord"})]}),Object(Le.jsxs)(R.a,{component:V.a,to:"/clients",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(Q.a,{})}),Object(Le.jsx)(k.a,{primary:"Clients"})]}),Object(Le.jsxs)(R.a,{component:V.a,to:"/items",button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(A.a,{})}),Object(Le.jsx)(k.a,{primary:"Objets"})]}),Object(Le.jsxs)(R.a,{onClick:function(){e(Ae()),Fe.push("/")},button:!0,children:[Object(Le.jsx)(w.a,{children:Object(Le.jsx)(P.a,{})}),Object(Le.jsx)(k.a,{primary:"Se d\xe9connecter"})]})]})},Ge=Object(p.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.children,n=e.user,r=Object(i.useState)(!1),a=Object(s.a)(r,2),c=a[0],o=a[1],l=Object(i.useContext)(X),d=l.mode,j=l.toggleColorMode;return Object(Le.jsxs)(h.a,{sx:{display:"flex"},children:[Object(Le.jsx)(f.a,{}),Object(Le.jsx)(Me,{position:"fixed",open:c,children:Object(Le.jsxs)(E.a,{children:[Object(Le.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",sx:Object(u.a)({marginRight:"36px"},c&&{display:"none"}),children:Object(Le.jsx)(F.a,{})}),Object(Le.jsxs)(y.a,{direction:"row",justifyContent:"space-between",container:!0,children:[Object(Le.jsx)(y.a,{item:!0,children:Object(Le.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",children:"Gestion des stocks"})}),null!==n&&void 0!==n&&n.email&&null!==n&&void 0!==n&&n.role?Object(Le.jsx)(y.a,{item:!0,children:Object(Le.jsxs)(v.a,{variant:"body2",component:"div",children:["Connect\xe9 en tant que ",n.email," (",n.role,")"]})}):null]})]})}),Object(Le.jsxs)(Ue,{variant:"permanent",open:c,children:[Object(Le.jsx)(ke,{children:Object(Le.jsx)(S.a,{onClick:function(){o(!1)},children:Object(Le.jsx)(I.a,{})})}),Object(Le.jsx)(_.a,{}),localStorage.getItem(Se.USER_LOCAL_STORAGE_KEY)?Object(Le.jsx)(ze,{}):Object(Le.jsx)(Be,{}),Object(Le.jsx)(_.a,{}),Object(Le.jsx)(m.a,{children:Object(Le.jsxs)(R.a,{button:!0,onClick:j,children:[Object(Le.jsx)(w.a,{children:"light"===d?Object(Le.jsx)(z.a,{}):Object(Le.jsx)(U.a,{})}),Object(Le.jsx)(k.a,{primary:"Changer le mode"})]})})]}),Object(Le.jsxs)(h.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(Le.jsx)(ke,{}),t]})]})})),De=n(206),He=n(112),Pe=n(221),We={breakpoints:{values:{xs:0,sm:600,md:1e3,lg:1200,xl:1920}},components:{MuiButton:{defaultProps:{disableElevation:!0},styleOverrides:{root:{textTransform:"none"},sizeSmall:{padding:"6px 16px"},sizeMedium:{padding:"8px 20px"},sizeLarge:{padding:"11px 24px"},textSizeSmall:{padding:"7px 12px"},textSizeMedium:{padding:"9px 16px"},textSizeLarge:{padding:"12px 16px"}}},MuiCardContent:{styleOverrides:{root:{padding:"32px 24px","&:last-child":{paddingBottom:"32px"}}}},MuiCardHeader:{defaultProps:{titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{variant:"body2"}},styleOverrides:{root:{padding:"32px 24px"}}},MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box",margin:0,padding:0},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",display:"flex",flexDirection:"column",minHeight:"100%",width:"100%"},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",minHeight:"100%",width:"100%"},"#__next":{display:"flex",flex:"1 1 auto",flexDirection:"column",height:"100%",width:"100%"}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"#E6E8F0"}}},MuiTableHead:{styleOverrides:{root:{backgroundColor:"#F3F4F6",".MuiTableCell-root":{color:"#374151"},borderBottom:"none","& .MuiTableCell-root":{borderBottom:"none",fontSize:"12px",fontWeight:600,lineHeight:1,letterSpacing:.5,textTransform:"uppercase"},"& .MuiTableCell-paddingCheckbox":{paddingTop:4,paddingBottom:4}}}}},palette:{action:{active:"#6B7280",focus:"rgba(55, 65, 81, 0.12)",hover:"rgba(55, 65, 81, 0.04)",selected:"rgba(55, 65, 81, 0.08)",disabledBackground:"rgba(55, 65, 81, 0.12)",disabled:"rgba(55, 65, 81, 0.26)"},background:{default:"#F9FAFC",paper:"#FFFFFF"},divider:"#E6E8F0",primary:{main:"#5048E5",light:"#828DF8",dark:"#3832A0",contrastText:"#FFFFFF"},secondary:{main:"#10B981",light:"#3FC79A",dark:"#0B815A",contrastText:"#FFFFFF"},success:{main:"#14B8A6",light:"#43C6B7",dark:"#0E8074",contrastText:"#FFFFFF"},info:{main:"#2196F3",light:"#64B6F7",dark:"#0B79D0",contrastText:"#FFFFFF"},warning:{main:"#FFB020",light:"#FFBF4C",dark:"#B27B16",contrastText:"#FFFFFF"},error:{main:"#D14343",light:"#DA6868",dark:"#922E2E",contrastText:"#FFFFFF"},text:{primary:"#121828",secondary:"#65748B",disabled:"rgba(55, 65, 81, 0.48)"}},shape:{borderRadius:8},shadows:["none","0px 1px 1px rgba(100, 116, 139, 0.06), 0px 1px 2px rgba(100, 116, 139, 0.1)","0px 1px 2px rgba(100, 116, 139, 0.12)","0px 1px 4px rgba(100, 116, 139, 0.12)","0px 1px 5px rgba(100, 116, 139, 0.12)","0px 1px 6px rgba(100, 116, 139, 0.12)","0px 2px 6px rgba(100, 116, 139, 0.12)","0px 3px 6px rgba(100, 116, 139, 0.12)","0px 2px 4px rgba(31, 41, 55, 0.06), 0px 4px 6px rgba(100, 116, 139, 0.12)","0px 5px 12px rgba(100, 116, 139, 0.12)","0px 5px 14px rgba(100, 116, 139, 0.12)","0px 5px 15px rgba(100, 116, 139, 0.12)","0px 6px 15px rgba(100, 116, 139, 0.12)","0px 7px 15px rgba(100, 116, 139, 0.12)","0px 8px 15px rgba(100, 116, 139, 0.12)","0px 9px 15px rgba(100, 116, 139, 0.12)","0px 10px 15px rgba(100, 116, 139, 0.12)","0px 12px 22px -8px rgba(100, 116, 139, 0.25)","0px 13px 22px -8px rgba(100, 116, 139, 0.25)","0px 14px 24px -8px rgba(100, 116, 139, 0.25)","0px 10px 10px rgba(31, 41, 55, 0.04), 0px 20px 25px rgba(31, 41, 55, 0.1)","0px 25px 50px rgba(100, 116, 139, 0.25)","0px 25px 50px rgba(100, 116, 139, 0.25)","0px 25px 50px rgba(100, 116, 139, 0.25)","0px 25px 50px rgba(100, 116, 139, 0.25)"],typography:{button:{fontWeight:600},fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"',body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.5},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.57},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.75},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.57},overline:{fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.5px",lineHeight:2.5,textTransform:"uppercase"},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.66},h1:{fontWeight:700,fontSize:"3.5rem",lineHeight:1.375},h2:{fontWeight:700,fontSize:"3rem",lineHeight:1.375},h3:{fontWeight:700,fontSize:"2.25rem",lineHeight:1.375},h4:{fontWeight:700,fontSize:"2rem",lineHeight:1.375},h5:{fontWeight:600,fontSize:"1.5rem",lineHeight:1.375},h6:{fontWeight:600,fontSize:"1.125rem",lineHeight:1.375}}},Ne=function(e){var t=e.children,n=Object(De.a)("(prefers-color-scheme: dark)"),r=Object(i.useState)(n?"dark":"light"),a=Object(s.a)(r,2),c=a[0],o=a[1];Object(i.useEffect)((function(){try{var e=localStorage.getItem(Se.COLOR_MODE_LOCALE_STORAGE_KEY);e&&q.includes(e)&&(console.debug("Set color mode from local storage"),o(e))}catch(t){console.error("Could not retrieve color mode from local storage: \n                    ".concat(t.message))}}),[]);var l=Object(i.useMemo)((function(){return Object(He.a)(Object(u.a)(Object(u.a)({},We),{palette:{mode:c}}))}),[c]);return Object(Le.jsx)(X.Provider,{value:{mode:c,toggleColorMode:function(){var e="light"===c?"dark":"light";o(e),localStorage.setItem(Se.COLOR_MODE_LOCALE_STORAGE_KEY,e)}},children:Object(Le.jsx)(Pe.a,{theme:l,children:t})})},Ke=n(232),Ye=n(209),Je=n(217),Qe=n(233),qe=Object(p.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.dispatch,n=e.auth;return n.loggedIn?Object(Le.jsx)(j.a,{to:"/"}):Object(Le.jsx)(h.a,{sx:{display:"flex",flexGrow:1,minHeight:"100%",alignItems:"center"},children:Object(Le.jsx)(Ke.a,{maxWidth:"sm",children:Object(Le.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=Object.fromEntries(new FormData(e.currentTarget).entries()),r=n.email,i=n.password;Ce(r.toString(),i.toString())(t)},children:[Object(Le.jsxs)(h.a,{sx:{my:3},children:[Object(Le.jsx)(v.a,{color:"textPrimary",variant:"h4",children:"Se connecter"}),Object(Le.jsx)(v.a,{color:"textSecondary",variant:"body2",gutterBottom:!0,children:"Se connecter au syst\xe8me de gestion des stocks"})]}),Object(Le.jsxs)(y.a,{spacing:3,container:!0,children:[Object(Le.jsx)(Ye.a,{type:"email",label:"Adresse e-mail",margin:"normal",name:"email",fullWidth:!0}),Object(Le.jsx)(Ye.a,{type:"password",label:"Mot de passe",margin:"normal",name:"password",fullWidth:!0})]}),Object(Le.jsxs)(h.a,{sx:{py:2,ml:-3},children:[Object(Le.jsx)(Je.a,{type:"submit",size:"large",color:"primary",variant:"contained",fullWidth:!0,children:"Se connecter"}),n.loggingIn?Object(Le.jsx)(h.a,{sx:{width:"100%",my:3},children:Object(Le.jsx)(Qe.a,{})}):null]})]})})})})),Xe=n(218),Ve=n(234),Ze=n(235),$e=n(236),et=n(237),tt=n(238),nt=n(239),rt=n(240),it=n(219),at=n(241),ct=n(208),ot=n(220),st=n(107),lt=n.n(st),dt=n(63),jt=n(47),ut=n.n(jt),xt=function(){var e=Object(dt.a)(ut.a.mark((function e(){var t;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se.API_BASE_URL,"/items"),{method:"GET",headers:Object(u.a)({"Content-Type":"application/json"},_e.authHeader())}).then(_e.checkResponse);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(dt.a)(ut.a.mark((function e(t){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se.API_BASE_URL,"/items/").concat(t),{method:"GET",headers:Object(u.a)({"Content-Type":"application/json"},_e.authHeader())}).then(_e.checkResponse);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt={getItems:xt,getItem:bt,insertItem:function(e){return fetch("".concat(Se.API_BASE_URL,"/login"),{method:"POST",headers:Object(u.a)({"Content-Type":"application/json"},_e.authHeader()),body:JSON.stringify(e)}).then(_e.checkResponse).then((function(e){return e}))},deleteItem:function(e){return fetch("".concat(Se.API_BASE_URL,"/login/").concat(e),{method:"DELETE",headers:Object(u.a)({"Content-Type":"application/json"},_e.authHeader())}).then(_e.checkResponse).then((function(e){return e}))}},ht=function(){return function(e){e({type:se}),pt.getItems().then((function(t){e(function(e){return{type:le,items:e}}(t))}),(function(t){e(function(e){return{type:de,error:e}}(t))}))}},Ot=function(e){return function(t){t({type:je}),pt.getItem(e).then((function(e){t(function(e){return{type:ue,item:e}}(e))}),(function(e){t(function(e){return{type:xe,error:e}}(e))}))}},gt=function(e){var t=e.quantity,n=0==t?"Rupture \u26a0\ufe0f":t.toString(),r=0==t?"secondary":"primary";return Object(Le.jsx)(Xe.a,{label:n,color:r,variant:"filled",style:{marginRight:"0.5rem"}})},mt=Object(p.b)((function(e){return{items:e.items}}))((function(e){var t=e.dispatch,n=e.items,r=Object(i.useState)(!1),a=Object(s.a)(r,2),c=a[0],o=a[1],l=n.items;return Object(i.useEffect)((function(){ht()(t)}),[]),n.loading?Object(Le.jsx)(Ve.a,{}):n.error?Object(Le.jsx)("div",{children:n.error}):(c?l.sort((function(e,t){return e.price-t.price})):l.sort((function(e,t){return e.ean-t.ean})),Object(Le.jsxs)(Ze.a,{children:[Object(Le.jsx)($e.a,{title:"Produits disponibles"}),Object(Le.jsx)(lt.a,{children:Object(Le.jsx)(h.a,{sx:{maxHeight:350,maxWidth:"100%"},children:Object(Le.jsxs)(et.a,{size:"small",children:[Object(Le.jsx)(tt.a,{children:Object(Le.jsxs)(nt.a,{children:[Object(Le.jsx)(rt.a,{children:"EAN"}),Object(Le.jsx)(rt.a,{children:"\xa0"}),Object(Le.jsx)(rt.a,{children:"Nom"}),Object(Le.jsx)(rt.a,{children:Object(Le.jsx)(it.a,{active:c,onClick:function(){o(!c)},children:"Prix"})}),Object(Le.jsx)(rt.a,{children:"Fournisseur"}),Object(Le.jsx)(rt.a,{children:"Quantit\xe9"})]})}),Object(Le.jsx)(at.a,{children:l.map((function(e){return Object(Le.jsx)(ct.a,{title:e.description,children:Object(Le.jsxs)(nt.a,{hover:!0,children:[Object(Le.jsx)(rt.a,{children:e.ean}),Object(Le.jsx)(rt.a,{children:Object(Le.jsx)(ot.a,{src:e.photo,alt:e.name,sx:{width:40,height:40}})}),Object(Le.jsx)(rt.a,{children:e.name}),Object(Le.jsxs)(rt.a,{children:[e.price," \u20ac"]}),Object(Le.jsx)(rt.a,{children:e.supplierId}),Object(Le.jsx)(rt.a,{children:Object(Le.jsx)(gt,{quantity:0})})]})},e.ean)}))})]})})})]}))})),ft=Object(p.b)((function(e){return{clients:e.clients,user:e.auth.user}}))((function(){return Object(Le.jsx)("div",{style:{display:"flex",flex:"1 1 auto",maxWidth:"100%",paddingTop:"1.5rem"},children:Object(Le.jsx)(h.a,{sx:{display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"},children:Object(Le.jsx)(h.a,{sx:{flexGrow:1},children:Object(Le.jsx)(Ke.a,{maxWidth:!1,children:Object(Le.jsx)(y.a,{spacing:2,container:!0,children:Object(Le.jsx)(y.a,{lg:6,md:6,xl:3,xs:12,item:!0,children:Object(Le.jsx)(mt,{})})})})})})})})),Et=n(108),St=["component"],yt=function(e){var t=e.component,n=Object(Et.a)(e,St);return Object(Le.jsx)(j.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return localStorage.getItem(Se.USER_LOCAL_STORAGE_KEY)?Object(Le.jsx)(t,Object(u.a)({},e)):Object(Le.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},vt=function(){return Object(Le.jsx)(Le.Fragment,{children:"Landing"})},_t=n(242),Tt=n(223),Ft=n(110),Ct=n.n(Ft),At=function(){var e=Object(dt.a)(ut.a.mark((function e(){var t;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Se.API_BASE_URL,"/clients"),{headers:Object(u.a)({"Content-Type":"application/json"},_e.authHeader()),method:"GET"}).then(_e.checkResponse);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lt={getClients:At},It=function(){return function(e){e({type:ae}),Lt.getClients().then((function(t){e(function(e){return{type:ce,clients:e}}(t))}),(function(t){e(function(e){return{type:oe,error:e}}(t))}))}},Rt=n(109),wt=n.n(Rt),kt=Object(p.b)((function(e){return{clients:e.clients}}))((function(e){var t=e.dispatch,n=e.clients;return Object(i.useEffect)((function(){It()(t)}),[]),n.loading?Object(Le.jsx)(Ve.a,{}):n.clients&&0===n.clients.length?Object(Le.jsx)("div",{children:"Aucun client"}):n.error?Object(Le.jsx)("div",{children:n.error}):Object(Le.jsx)(_t.a,{component:Tt.a,children:Object(Le.jsxs)(et.a,{"aria-label":"tableau des clients",sx:{minWidth:300},children:[Object(Le.jsx)(tt.a,{children:Object(Le.jsxs)(nt.a,{children:[Object(Le.jsx)(rt.a,{align:"center",children:"ID."}),Object(Le.jsx)(rt.a,{align:"center",children:"Pr\xe9nom"}),Object(Le.jsx)(rt.a,{align:"center",children:"Nom"}),Object(Le.jsx)(rt.a,{align:"center",children:"Ville"}),Object(Le.jsx)(rt.a,{align:"center",children:"CP"}),Object(Le.jsx)(rt.a,{align:"center",children:"Actions"})]})}),Object(Le.jsx)(at.a,{children:n.clients&&n.clients.map((function(e){return Object(Le.jsxs)(nt.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Le.jsx)(rt.a,{align:"center",children:e.id}),Object(Le.jsx)(rt.a,{align:"center",children:e.firstName}),Object(Le.jsx)(rt.a,{align:"center",children:e.lastName}),Object(Le.jsx)(rt.a,{align:"center",children:e.city}),Object(Le.jsx)(rt.a,{align:"center",children:e.zipCode}),Object(Le.jsxs)(rt.a,{align:"center",children:[Object(Le.jsx)(S.a,{color:"primary","aria-label":"Modifier",children:Object(Le.jsx)(wt.a,{})}),Object(Le.jsx)(S.a,{color:"secondary","aria-label":"Supprimer",children:Object(Le.jsx)(Ct.a,{})})]})]},e.id)}))})]})})})),Mt=Object(p.b)((function(e){return{items:e.items}}))((function(e){var t=e.dispatch,n=e.items;return Object(i.useEffect)((function(){ht()(t)}),[]),n.loading?Object(Le.jsx)(Ve.a,{}):n.items&&0===n.items.length?Object(Le.jsx)("div",{children:"Aucun objet"}):Object(Le.jsx)(Le.Fragment,{})})),Ut=Object(p.b)((function(e){return{items:e.items}}))((function(e){var t=e.dispatch,n=e.items,r=Object(j.g)().id,a=parseInt(r,10);Object(i.useEffect)((function(){Ot(a)(t)}),[]);var c=n.items.find((function(e){return e.ean===a}));return n.loading?Object(Le.jsx)(Ve.a,{}):c?Object(Le.jsxs)("div",{children:["wip!",c.ean,c.name,c.description,c.price," \u20ac",Object(Le.jsx)("img",{src:c.photo,alt:c.name})]}):Object(Le.jsx)("div",{children:"Objet non trouv\xe9"})})),Bt=(n(148),Object(p.b)((function(e){return{alert:e.alert}}))((function(e){var t=e.dispatch,n=e.alert,r=Object(i.useState)(!1),a=Object(s.a)(r,2),c=a[0],o=a[1];Object(i.useEffect)((function(){o(n.message.length>0)}),[n]);return Fe.listen((function(){t(Ee())})),Object(Le.jsx)(Ne,{children:Object(Le.jsx)(j.c,{history:Fe,children:Object(Le.jsxs)(Ge,{children:[Object(Le.jsx)(l.a,{open:c,autoHideDuration:5e3,onClose:function(){o(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(Le.jsx)(d.a,{severity:n.type,children:n.message})}),Object(Le.jsxs)(j.d,{children:[Object(Le.jsx)(j.b,{path:"/",component:vt,exact:!0}),Object(Le.jsx)(j.b,{path:"/login",component:qe,exact:!0}),Object(Le.jsx)(yt,{component:ft,path:"/dashboard",exact:!0}),Object(Le.jsx)(yt,{component:kt,path:"/clients",exact:!0}),Object(Le.jsx)(yt,{component:Mt,path:"/items",exact:!0}),Object(Le.jsx)(yt,{component:Ut,path:"/items/:id",exact:!0}),Object(Le.jsx)(j.b,{render:function(){return Object(Le.jsx)("div",{children:"404"})}})]})]})})})}))),zt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))},Gt=n(64),Dt={type:"info",message:""},Ht=JSON.parse(null!==(r=localStorage.getItem(Se.USER_LOCAL_STORAGE_KEY))&&void 0!==r?r:"{}"),Pt=Object.keys(Ht).length>0?{loggedIn:!0,user:Ht}:{},Wt=n(15),Nt={items:[],loading:!1},Kt=Object(Gt.b)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{type:"success",message:t.message};case re:return{type:"error",message:t.message};case ie:return{type:"info",message:""};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loggingIn:!0,user:t.user};case $:return{loggedIn:!0,user:t.user};case ee:case te:return{};default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ce:return{clients:t.clients};case oe:return{error:t.error};default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0,items:[]};case le:return{loading:!1,items:t.items};case de:return{loading:!1,items:e.items,error:t.error};case Oe:return{loading:!0,items:e.items};case ge:return{loading:!1,items:e.items.filter((function(e){return e.ean!==t.itemId}))};case me:return{loading:!1,items:e.items,error:t.error};case be:return{loading:!0,items:e.items};case pe:return{loading:!1,items:[].concat(Object(Wt.a)(e.items),[t.item])};case he:return{loading:!1,items:e.items,error:t.error};case je:return{loading:!0,items:e.items};case ue:return{loading:!1,items:[t.item]};case xe:return{loading:!1,items:e.items,error:t.error};default:return e}}}),Yt=n(111),Jt=Object(Gt.c)(Kt,Object(Gt.a)(Yt.a));o.a.render(Object(Le.jsx)(a.a.StrictMode,{children:Object(Le.jsx)(p.a,{store:Jt,children:Object(Le.jsx)(Bt,{})})}),document.getElementById("root")),zt()}},[[149,1,2]]]);
//# sourceMappingURL=main.ec6cc387.chunk.js.map